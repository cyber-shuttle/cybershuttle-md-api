#!/usr/bin/tclsh

package require http
package require tls

set token "eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJzX0dPcDFvM1p6U19ncVZjN1U3M1BNbThsMmxKbmZLRDg1N29tV2RaX0U4In0.eyJqdGkiOiJiOTc0OTdkOC00MTdlLTRkZjktYmVkMS1kNWI0MTM2NTgwYjAiLCJleHAiOjE3MTc1MzM3NzAsIm5iZiI6MCwiaWF0IjoxNzE3NTMxOTcwLCJpc3MiOiJodHRwczovL2lhbS5zY2lnYXAub3JnL2F1dGgvcmVhbG1zL21vbGVjdWxhci1keW5hbWljcyIsImF1ZCI6InBnYSIsInN1YiI6IjZmZDI1MWFlLWUzMGUtNGI4Yi1hOTNlLWQyNjExNDM2NzIzYSIsInR5cCI6IkJlYXJlciIsImF6cCI6InBnYSIsImF1dGhfdGltZSI6MTcxNzUzMDA3NCwic2Vzc2lvbl9zdGF0ZSI6Ijg3OTRhZGEzLTBiNDEtNGI4Ny1iNTgzLTZiYzAzODBiYjc4NyIsImFjciI6IjEiLCJjbGllbnRfc2Vzc2lvbiI6ImIxNDQ5ZmU2LWJmYzEtNGMyNy1iMjY2LWQzODM2NWZhMDQwNCIsImFsbG93ZWQtb3JpZ2lucyI6WyJodHRwczovL21kLmN5YmVyc2h1dHRsZS5vcmciXSwicmVhbG1fYWNjZXNzIjp7InJvbGVzIjpbInVtYV9hdXRob3JpemF0aW9uIl19LCJyZXNvdXJjZV9hY2Nlc3MiOnsiYnJva2VyIjp7InJvbGVzIjpbInJlYWQtdG9rZW4iXX0sImFjY291bnQiOnsicm9sZXMiOlsibWFuYWdlLWFjY291bnQiLCJ2aWV3LXByb2ZpbGUiXX19LCJuYW1lIjoiRGllZ28gQmFycmV0byBHb21lcyIsInByZWZlcnJlZF91c2VybmFtZSI6ImRlYjAwNTRAYXVidXJuLmVkdSIsImdpdmVuX25hbWUiOiJEaWVnbyIsImZhbWlseV9uYW1lIjoiQmFycmV0byBHb21lcyIsImVtYWlsIjoiZGViMDA1NEBhdWJ1cm4uZWR1In0.UMvTDWO6wjo5II2x35LVd-JE4b4KdKpHYqotDPSjYv-vIqr97w7TdqcF2NvBGXThtyrlUiCLz4Bxl_TITGxu3TXAa5EIF4GLLwI877ov4NSh3yPTN7KSZ853do23R_vI4bYMdOA-udH9ZfsCrvOt62JcYr7JortnsQlPX7EFaJs0q5VTfL-8QGSVh7QPTeMhBqO2foxQWQihrvA5ohsqJ1YTQ0RJ9j6gH8quhTtC2YZFH5kuULloPDC6BwrjWt1aDWqLNkjdIoGDB2DmaT9XeOhWfJ7EkdlS3o9rS4VWAMB13-Ge_7hEz_rFfu1c96854_hiTtc5BfrrJ82tzk60Ew" 

# Define your headers with the token
set headers [list Authorization "Bearer $token"]

# This is your code, cut-n-pasted with blank lines removed
http::register https 443 tls::socket
set url "https://md.cybershuttle.org/api/experiment-storage/Clone_of_Clone_of_CdiB_out_85608bcb-2b68-4aaf-8419-f2333cd5a7c4/"
set httpreq [http::geturl $url -timeout 30000 -headers $headers]
set status [http::status $httpreq]
set answer [http::data $httpreq]
http::cleanup $httpreq
http::unregister https

puts $status
puts $answer
